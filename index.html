<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="https://hosting.photobucket.com/bbcfb0d4-be20-44a0-94dc-65bff8947cf2/ff4a3384-baa9-4bc2-94c9-6bff4e3d3ea0.png"
      type="image/x-icon"
    />
    <meta
      name="description"
      content="Aggregates CEPII BACI HS92 trade data into year-by-year top-product time series and lookup summaries."
    />
    <meta name="author" content="Bret Bernhoft" />
    <meta charset="utf-8" />
    <title>BACI Product Space Visualization - Bret Bernhoft</title>

    <style>
      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
        margin: 0;
        font-family: system-ui, sans-serif;
        background: #f9fafb;
      }

      body {
        display: flex;
        flex-direction: column;
      }

      h2 {
        margin: 16px 20px 8px 20px;
      }

      #controls {
        display: flex;
        gap: 20px;
        align-items: center;
        padding: 0 20px 12px 20px;
        flex-wrap: wrap;
      }

      #chart-container {
        flex: 1;
        padding: 0 20px 20px 20px;
      }

      svg {
        width: 100%;
        height: 100%;
        background: white;
        border-radius: 14px;
        box-shadow: 0 4px 18px rgba(0, 0, 0, 0.08);
      }

      .axis text {
        font-size: 13px;
        fill: #333;
      }

      .axis path,
      .axis line {
        stroke: #ccc;
      }

      .value-label {
        font-size: 12px;
        fill: #333;
        dominant-baseline: middle;
      }

      .year-watermark {
        font-size: 120px;
        opacity: 0.05;
        font-weight: 700;
        fill: #000;
        pointer-events: none;
      }

      button {
        padding: 6px 14px;
        border-radius: 6px;
        border: 1px solid #ccc;
        background: white;
        cursor: pointer;
      }

      button:disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }

      input[type="number"] {
        width: 80px;
      }
    </style>
  </head>

  <body>
    <h2>Top Products By Value (BACI)</h2>

    <div id="controls">
      <button id="play">Play</button>
      <button id="pause" disabled>Pause</button>

      <label>
        Year:
        <input
          id="yearSlider"
          type="range"
          min="0"
          max="0"
          value="0"
          step="1"
        />
        <span id="yearLabel"></span>
      </label>

      <label>
        Top N:
        <input id="topN" type="number" min="10" max="2000" value="30" />
      </label>
    </div>

    <div id="chart-container">
      <svg id="chart"></svg>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="/main.js"></script>
  </body>
</html>
